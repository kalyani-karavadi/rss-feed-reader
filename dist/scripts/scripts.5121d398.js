"use strict";angular.module("rssFeedReaderApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/",{templateUrl:"views/rssFeeds.html",controller:"RssFeedController"}).otherwise({redirectTo:"/"})}]),angular.module("rssFeedReaderApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("rssFeedReaderApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("rssFeedReaderApp").controller("RssFeedController",["$scope","rssFeedService","localStorageService",function(a,b,c){a.rssInput.rssTitle="Frienstr",a.rssInput.rssURL="https://www.pinterest.com/azero0/feed.rss",a.feed=null,a.error=null,a.getRSSFeeds=function(){var d={params:{v:"1.0",num:50,q:a.rssInput.rssURL,p:a.rssInput.rssTitle}};b.getRSSFeeds(d).success(function(b){b.responseData&&b.responseData.feed?(a.feed=b.responseData.feed,c.add("rssFeed",a.feed)):a.error=b.responseDetails?b.responseDetails:"Error getting RSS Feeds."}).error(function(b){console.error("RssFeedController::getRSSFeeds error:",b),a.error="Error getting RSS Feeds."})},a.clearRssFeeds=function(){a.feed="",a.rssInput.rssTitle="",a.rssInput.rssURL=""},a.getFeedsFromLocalStorage=function(){var b=c.get("rssFeed");a.feed=b}}]),angular.module("rssFeedReaderApp").factory("rssFeedService",["$http",function(a){var b="http://ajax.googleapis.com/ajax/services/feed/load?callback=JSON_CALLBACK";return{getFeeds:function(c){return a.jsonp(b,c)}}}]),function(){var a=angular.module("LocalStorageModule",[]);a.constant("prefix","rssFeedReaderApp"),a.constant("cookie",{expiry:30,path:"/"}),a.service("localStorageService",["$rootScope","prefix","cookie",function(a,b,c){"."!==b.substr(-1)&&(b=b?b+".":"");var d=window.sessionStorage,e=function(){try{return"sessionStorage"in window&&null!==window.sessionStorage}catch(b){return a.$broadcast("LocalStorageModule.notification.error",b.Description),!1}},f=function(c,f){if(!e())return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;if("undefined"==typeof f)return!1;try{d.setItem(b+c,f)}catch(g){return a.$broadcast("LocalStorageModule.notification.error",g.Description),!1}return!0},g=function(a,b){if(b===[])return j(a),!0;b=JSON.stringify(b);var c=f(a,b);return c},h=function(c){if(!e())return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var f=d.getItem(b+c);return f||null},i=function(a){var b=h(a);return b=b?JSON.parse(b):[]},j=function(c){if(!e())return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;try{d.removeItem(b+c)}catch(f){return a.$broadcast("LocalStorageModule.notification.error",f.Description),!1}return!0},k=function(){if(!e())return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var c=b.length;for(var f in d)if(f.substr(0,c)===b)try{j(f.substr(c))}catch(g){return a.$broadcast("LocalStorageModule.notification.error",g.Description),!1}return!0},l=function(){try{return navigator.cookieEnabled||"cookie"in document&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1)}catch(b){return a.$broadcast("LocalStorageModule.notification.error",b.Description),!1}},m=function(d,e){if("undefined"==typeof e)return!1;if(!l())return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var f="",g=new Date;null===e&&(c.expiry=-1,e=""),0!==c.expiry&&(g.setTime(g.getTime()+24*c.expiry*60*60*1e3),f="; expires="+g.toGMTString()),document.cookie=b+d+"="+encodeURIComponent(e)+f+"; path="+c.path}catch(h){return a.$broadcast("LocalStorageModule.notification.error",h.Description),!1}return!0},n=function(c){if(!l())return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var d,e=document.cookie.split(";"),f=e.length,g=0;f>g;g++){for(d=e[g];" "===d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(b+c+"="))return decodeURIComponent(d.substring(b.length+c.length+1,d.length))}return null},o=function(a){m(a,null)},p=function(){for(var a,c,d=b.length,e=document.cookie.split(";"),f=e.length,g=0;f>g;g++){for(a=e[g];" "===a.charAt(0);)a=a.substring(1,a.length);c=a.substring(d,a.indexOf("=")),o(c)}};return{isSupported:e,add:f,addArray:g,get:h,getArray:i,remove:j,clearAll:k,cookie:{add:m,get:n,remove:o,clearAll:p}}}])}();